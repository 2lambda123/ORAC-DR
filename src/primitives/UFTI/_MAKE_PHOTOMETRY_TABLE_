#  _MAKE_PHOTOMETRY_TABLE_
#
#  Creates an STL file for aperture photometry.
#

# Obtain the name of the STL file.
   $logfile = ( $__MAKE_PHOTOMETRY_TABLE_{FILE} || "aphot_results.txt" );

   open ( LOGFILE, ">$logfile" );
   orac_print "Orac says: Creating a new $logfile to record the aperture photometry.\n";

print LOGFILE "!+\n";
print LOGFILE "!  Simple STL file: Aperture-photometry results\n";
print LOGFILE "!\n";
print LOGFILE "!  Created by the _MAKE_PHOTOMETRY_TABLE_ script.\n";
print LOGFILE "!-\n";
print LOGFILE " \n";
print LOGFILE "C FILE     CHAR*18  1 EXFMT=A18   TBLFMT=A18  COMMENTS='Dataset filename'\n";
print LOGFILE "C NAME     CHAR*12 20 EXFMT=A12   TBLFMT=A12  COMMENTS='Source name'\n";
print LOGFILE "C UT       REAL    33 EXFMT=F8.5  TBLFMT=F8.5 COMMENTS='UT at start of observation'\n";
print LOGFILE ":          UNITS='hours'\n";
print LOGFILE "C FILTER   CHAR*7  42 EXFMT=A7    TBLFMT=A7   COMMENTS='Filter name'\n";
print LOGFILE "C AIRMASS  REAL    50 EXFMT=F5.3  TBLFMT=F5.3 COMMENTS='Airmass at start of observation'\n";
print LOGFILE "C MAG      REAL    56 EXFMT=F7.3  TBLFMT=F7.3 COMMENTS='Raw magnitude'\n";
print LOGFILE "C MAGCOR   REAL    64 EXFMT=F7.3  TBLFMT=F7.3 COMMENTS='Magnitude, mean extinction applied'\n";
print LOGFILE "C MAGERR   REAL    72 EXFMT=F6.3  TBLFMT=F6.3 COMMENTS='Internal error in raw magnitude'\n";
print LOGFILE "C ERRCODE  CHAR*2  79 EXFMT=A2    TBLFMT=A2 \n";  
print LOGFILE ":          COMMENTS='B=bad pixels S=saturated pixels E=image intersects frame edge'\n";
print LOGFILE "C ZP       REAL    82 EXFMT=F5.2  TBLFMT=F5.2 COMMENTS='Zero point'\n";
print LOGFILE "C CATMAG   REAL    88 EXFMT=F6.3  TBLFMT=F6.3 COMMENTS='Catalogue magnitude'\n";
print LOGFILE "C APERTURE REAL    95 EXFMT=F5.2  TBLFMT=F5.2 COMMENTS='Aperture'\n";
print LOGFILE ":          UNITS='arcsec'\n";
print LOGFILE "C INNER    REAL   101 EXFMT=F5.2  TBLFMT=F5.2 COMMENTS='Sky annulus, inner radius'\n";
print LOGFILE ":          UNITS='arcsec'\n";
print LOGFILE "C OUTER    REAL   107 EXFMT=F5.2  TBLFMT=F5.2 COMMENTS='Sky annulus, outer radius'\n";
print LOGFILE ":          UNITS='arcsec'\n";
print LOGFILE "C SKY      REAL   113 EXFMT=F8.2  TBLFMT=F8.2 COMMENTS='Sky level'\n";
print LOGFILE "C INCLUDE  LOGICAL 122 EXFMT=L5   TBLFMT=L5   COMMENTS='Include-in-fit flag'\n";
print LOGFILE " \n";
print LOGFILE "D POSITION='CHARACTER'\n";
print LOGFILE " \n";
print LOGFILE "BEGINTABLE\n";
    close ( LOGFILE );
