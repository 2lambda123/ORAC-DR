# _BRIGHT_POINT_SOURCE_STEER_
#
# Control processing for BRIGHT_POINT_SOURCE(_APHOT), in particular when
# to make a mosaic.  For the time being hardwire to third and fifth.  
#
# Arguments:
#    NUMBER = INTEGER (Given)
#       The number of frames in the jitter.  The minimum is 3. [5]
#
# This should only be performed on OBJECT frames.
    if ( $Frm->hdr( "OBSTYPE" ) eq "OBJECT" ||
         $Frm->hdr( "OBSTYPE" ) eq "SKY") {

# Obtain the number of frames in the jitter pattern.
       my $number = max( 3, ( $_BRIGHT_POINT_SOURCE_STEER_{NUMBER} || 5 ) );

# Specify during processing of which frames should the mosaic be created
# and aperture photometry performed.
       if ( ($Grp->num + 1) == 3 || ($Grp->num + 1) == $number ) {
          $Frm->hdr( "MAKE_MOSAIC", 1 );
          $Frm->hdr( "DO_APHOT", 1 );
       
       } else {
          $Frm->hdr( "MAKE_MOSAIC", 0 );
          $Frm->hdr( "DO_APHOT", 0 );
       }

    }
