=head1 NAME

_ORIENT_IMAGE_NORMALLY_ - Transofrm the image to the normal orientation

=head1 DESCRIPTION

UIST long-slit spectroscopy images come out with shorter 
wavelengths to the right rather than the left.
This primitive flips them round.

=head1 AUTHOR

Paul Hirst <p.hirst@jach.hawaii.edu>

=head1 COPYRIGHT

Copyright (C) 1998-2001 Particle Physics and Astronomy Research
Council. All Rights Reserved.

=cut

# Is probably only one file at this point, but anyway
foreach my $i ( 1..$Frm->nfiles ) {
   # Generate the input and output filenames.
   # reo = RE Oriented
   my ($in, $out) = $Frm->inout("_reo", $i);

   $Mon{'kappa_mon'}->obeyw("flip", "in=$in out=$out title=$out dim=1");
   orac_print "$in to $out: flipped wavelength axis to normal orientation\n";
   $Frm->file($i, $out);
}
   
# Now we should re-write the CDELT1 FITS header to be positive.
my $cdelt = $Frm->hdr('CDELT1');
orac_warn "CDELT1 was allready positive. Probably broken UIST headers\n" if ($cdelt > 0);
$cdelt = abs($cdelt);
_SET_FRAME_FITS_ITEM_ KEY=CDELT1 VALUE=$cdelt
$Frm->uhdr("ORAC_GRATING_DISPERSION", $cdelt);

