=head1 NAME

_REDUCE_SIGNLE_FRAME_CONFIG_

=head1 DESCRIPTION

Sets up configuration parameters for _REDUCE_SIGNLE_FRAME_. The user
passes configuration options to this primitive in the recipe, and this
primitive stores them in Frame userheaders ($Frm->uhdr) for use by
primitives downstream. As some of the primitives that use the
parameters are several levels down the callstack, this is neater than
passing the parameters down from one primitive to another at each
layer.

=head1 PARAMETERS

NOBIAS - do not attempt to use a bias frame
NOFLAT - do not attempt to use a flat field
NOARC  - do not attempt to use an arc frame

=head1 AUTHOR

Paul Hirst <p.hirst@jach.hawaii.edu>

=head1 COPYRIGHT

Copyright (C) 1998-2001 Particle Physics and Astronomy Research
Council. All Rights Reserved.

=cut

# Set the flag to say we've been configured
$Frm->uhdr("REDUCE_SINGLE_FRAME_CONFIG_CONFIGED", 1);

# Handle NOBIAS
my $nobias = ($_REDUCE_SINGLE_FRAME_CONFIG_{NOBIAS}) ? 1 : 0;
$Frm->uhdr("REDUCE_SINGLE_FRAME_CONFIG_NOBIAS", $nobias);

# Handle NOFLAT
my $noflat = ($_REDUCE_SINGLE_FRAME_CONFIG_{NOFLAT}) ? 1 : 0;
$Frm->uhdr("REDUCE_SINGLE_FRAME_CONFIG_NOFLAT", $noflat);

# Handle NOARC
my $noarc = ($_REDUCE_SINGLE_FRAME_CONFIG_{NOARC}) ? 1 : 0;
$Frm->uhdr("REDUCE_SINGLE_FRAME_CONFIG_NOARC", $noarc);

# Deduce a NEEDBIAS flag.
my $needbias = (substr(($Frm->uhdr("ORAC_DETECTOR_READ_TYPE")), 0, 2) ne "ND" ) ? 1 : 0;
$Frm->uhdr("REDUCE_SINGLE_FRAME_CONFIG_NEEDBIAS", $needbias);