    my $fname = $_FRINGE_PREPARE_{NAME};
    my $nbxmax = (defined _FRINGE_PREPARE_{NBXMAX} ? _FRINGE_PREPARE_{NBXMAX} : 16);
    my $nbymax = (defined _FRINGE_PREPARE_{NBYMAX} ? _FRINGE_PREPARE_{NBYMAX} : 16);
    my $mbsize = (defined _FRINGE_PREPARE_{MBSIZE} ? _FRINGE_PREPARE_{MBSIZE} : 64);

    # Name to normalised fringe frame and the difference map

    my $frnorm = "frnorm" . $fname;
    my $frdiff = "frdiff" . $fname;

    # Check to see if these exist. If they both do, then you don't need to
    # do any more here.  If one exists, then delete that one and procede
    # as though neither existed.

    if (! -f $frnorm || ! -f $frdiff) {
	unlink $frnorm if (-e $frnorm);
	unlink $frdiff if (-e $frdiff);
	orac_print("Creating normalised and differential fringe maps $frnorm and $frdiff\n");
        my ($retval,$errmsg);
	$retval = cir_prep_fringe_file($fname,$nbxmax,$nbymax,$mbsize,1,
	    $frnorm,$frdiff,$errmsg);
	if ($retval != CIR_OK) {
	    orac_throw "CIR_PREP_FRINGE_FILE: Failed in _FRINGE_PREPARE_\n$errmsg\n";
        }
    }

    # Pass these names back

    $Frm->uhdr("FRNORM",$frnorm);
    $Frm->uhdr("FRDIFF",$frdiff);
	
