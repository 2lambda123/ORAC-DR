    # Work out where you are in the current microstep sequence

    my $nustep = $Frm->hdr("NUSTEP");
    my $ustep_i = $Frm->hdr("USTEP_I");
    my $ustep_finished = ($nustemp == $ustep_i);

    # Work out where you are in the current jitter sequence

    my $njitter = $Frm->hdr("NJITTER");
    my $jitter_i = $Frm->hdr("JITTER_I");
    my $jitter_finished = ($njitter == $jitter_i);

    # Work out where you are in the current tile sequence

    my $obsnum = $Frm->hdr("OBSNUM");
    my $tilenum = $Frm->hdr("TILENUM");
    $Grp->uhdr("TILE_COMPLETE",0)
    if ($obsnum == $tilenum) {
        my $current_jitter = 1;
    } elsif ($jitter_i == 1) {
        

    