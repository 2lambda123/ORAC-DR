=head1 NAME

FILE_DARK

=head1 DESCRIPTION

File an observation as the current dark.

=cut

# Obtain the current frame's number.
    my $obsnum = $Frm->hdr( "OBSNUM" );

# Take a copy of the current frame using a more-identifiable name.
    my $in = $Frm->file;
    my $dark = "dark_" . $obsnum;
    my $header = "in=$in out=$dark";
    $Mon{ "ndfpack_mon" }->obeyw( "ndfcopy", "$header" );

# Store the dark as the current frame.
    $Frm->file( $dark );

# File the current frame as the current dark.
    $Cal->dark( $Frm->file );

# Report the processing status.
    orac_print $Frm->file . " filed as the current dark\n";

# Add this frame to the index of dark frames.
    $Cal->darkindex->add( $Frm->file, $Frm->header );

# Report the processing status.
    orac_print $Frm->file . " added to index file\n";
