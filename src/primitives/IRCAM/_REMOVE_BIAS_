#+
# Name:
#    _REMOVE_BIAS_
#
# Purpose:
#    Subtracts a bias frame.
#
# Language:
#    Perl5
#
# Description:
#    This primitive subtracts a zero bias from the current frame.
#    For current instruments there is no bias to subtract so it is
#    something of a placeholder primitive.  Its main purpose is to set
#    up CCDPACK for subsequent processing.  For instance, CCDPACK will
#    complain if debiassing is not performed before say flat-fielding.
#    The primitive reports a successful bias subtraction and the frames
#    concerned.
#
# Notes:
#    -  This primitive is suitable for both UFTI and IRCAM.
#    -  Processing occurs for all frames.
#    -  The bias-subtracted image can be displayed.
#    -  The frame title is propagated.
#
# Output Data:
#    -  Bias-subtracted frame inheriting the frame's name but with the
#    _db suffix.
#
# Tasks:
#    CCDPACK: DEBIAS.
#
# Authors:
#    MJC: Malcolm J. Currie (JAC)
#
# Copyright:
#    Copyright (C) 1998-2000 Particle Physics and Astronomy Research
#    Council.  All Rights Reserved.
#
#-
# _REMOVE_BIAS_          -*- perl -*-
#
# Subtracts a bias frame
#
# TASK: CCDPACK - DEBIAS
#

# Generate the input and output filenames.
    ( my $in, my $out ) = $Frm->inout( "_db" );

#  Specify parameters.
    my $header = "in=$in out=$out title=!";
    my $hidden = "usecon=true zero=0";

# Debias the frame using a 0 bias contribution.  There is no bad-pixel
# masking.  Do not create a variance array.
    $Mon{"ccdpack_red"}->obeyw("debias","$header $hidden reset accept");

# Report the processing.
    orac_print "Orac says: $in to $out: Bias removed\n";

# Record the new file name in the frame object.
    $Frm->file( $out );                       # obligatory update step

# Display the image.
    _DISPLAY_FRAME_IMAGE_

# Podule
# ======

=head1 NAME

REMOVE_BIAS -- Subtracts a bias frame.

=head1 DESCRIPTION

This primitive subtracts a zero bias from the current frame.
For current instruments there is no bias to subtract so it is
something of a placeholder primitive.  Its main purpose is to
set up CCDPACK for subsequent processing.  For instance, CCDPACK
will complain if debiassing is not performed before say
flat-fielding.  The primitive reports a successful bias
subtraction and the frames concerned.

=head1 NOTES

=over 4

=item *

This primitive is suitable for both UFTI and IRCAM.

=item *

Processing occurs for all frames.

=item *

The bias-subtracted image can be displayed.

=item *

The frame title is propagated.

=back

=head1 OUTPUT DATA

=over 4

=item *

Bias-subtracted frame inheriting the frame's name but with the _db suffix.

=back

=head1 TASKS

CCDPACK: DEBIAS.

=head1 AUTHORS

MJC: Malcolm J. Currie (JAC)

=head1 COPYRIGHT

Copyright (C) 1998-2000 Particle Physics and Astronomy Research
Council.  All Rights Reserved.

=cut
