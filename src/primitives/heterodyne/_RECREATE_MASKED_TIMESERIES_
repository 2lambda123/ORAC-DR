# -*-perl-*-

=head1 NAME

_RECREATE_MASKED_TIMESERIES_

=head1 DESCRIPTION

This primitive recreates time-series data with emission masked. It
does so by retrieving a baseline mask as created in the
_REMOVE_BASELINE_THROUGH_SMOOTHING_ primitive, running it through
UNMAKECUBE to create time-series masks, and applying those to the raw
time-series data.

=head1 ARGUMENTS

=over 4

=item INTERP = STRING (Given)

The method to use when resampling the input sky cube pixel
values. ['nearest']

=item PARAMS = STRING (Given)

An array which consists of additional parameters required by the Sinc,
SincSinc, SincCos, SincGauss, Somb, and SombCos interpolation schemes
(see INTERP argument). ['']

=back

=head1 NOTES

=over 4

=item *

This primitive is suitable for ACSIS data.

=back

=head1 OUTPUT DATA

=over 4

=item *

See _CREATE_TIMESERIES_MASK_ and _MASK_TIMESERIES_DATA_.

=back

=head1 TASKS

None.

=head1 REQUIRED PERL MODULES

None.

=head1 AUTHORS

Brad Cavanagh E<lt>b.cavanagh@jach.hawaii.eduE<gt>

=head1 COPYRIGHT

Copyright (C) 2008 Science and Technology Facilities Council.  All
Rights Reserved.

=cut

# Handle arguments.
my $interp = ( defined( $_PRIM_ARGS_->{INTERP} ) ?
               $_PRIM_ARGS_->{INTERP}            :
               'nearest' );
my $params = ( defined( $_PRIM_ARGS_->{PARAMS} ) ?
               $_PRIM_ARGS_->{PARAMS}            :
               "''" );

_CREATE_TIMESERIES_MASK_ INTERP=$interp PARAMS=$params

_MASK_TIMESERIES_DATA_
