# -*-perl-*-

=head1 NAME

=head1 DESCRIPTION

=head1 ARGUMENTS

=over 4

=back

=head1 NOTES

=over 4

=back

=head1 OUTPUT DATA

=over 4

=back

=head1 TASKS

=head1 REQUIRED PERL MODULES

=head1 AUTHORS

Brad Cavanagh E<lt>b.cavanagh@jach.hawaii.eduE<gt>

=head1 COPYRIGHT

Copyright (C) 2008 Science and Technology Facilities Council.  All
Rights Reserved.

=cut

# Load the JSA::QA module.
my $isok = eval { require JSA::QA; 1; };
if( ! $isok ) {
  orac_warn "Could not load the JSA::QA Perl module: $@\n";
  orac_warn "Continuing with data reduction.\n";
} else {

  my $output = sub { orac_print @_; };

  my $tsys_values_href = $Frm->uhdr( "QA_TSYS_VALUES" );
  my $tsysvar_result = &JSA::QA::analyse_tsysvar( $tsys_values_href,
                                                  $output );

  my $tsysmax_result = &JSA::QA::analyse_tsysmax( $tsys_values_href,
                                                  $output );

  my $rms_values_href = $Frm->uhdr( "QA_RMS_VALUES" );
  my $rms_result = &JSA::QA::analyse_timeseries_rms( $rms_values_href,
                                                     $output );
#  orac_print "Results for RMS sensitivity variation QA:\n";
#  analyse_jsa_qa_results( $rms_result, $output );

}
