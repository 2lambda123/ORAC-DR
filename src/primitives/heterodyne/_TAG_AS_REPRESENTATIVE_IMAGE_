
my $file = $_TAG_AS_REPRESENTATIVE_IMAGE_{FILE};
my $update = ( $_TAG_AS_REPRESENTATIVE_IMAGE_{UPDATE} ? 1 : 0 );

my $in = $file;
my $out;
if( ! defined( $file ) ) {
  ( $in, $out ) = $Frm->inout( "_rimg" );
} else {
  ( undef, $out ) = $Frm->inout( "_rimg" );
}

$Mon{'ndfpack_mon'}->obeyw( "ndfcopy", "in=$in out=$out" );

orac_print "$in to $out:\n Tagged as representative image.\n";

_SET_FILE_FITS_ITEM_ FILE=$out KEY=PRODUCT VALUE=rimg

_DISPLAY_FILE_ FILE=$out

if( $update ) {
  $Frm->product( "rimg" );
  $Frm->file( $out );
}

