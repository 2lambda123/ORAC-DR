
my $update = ( $_TAG_AS_REPRESENTATIVE_IMAGE_{UPDATE} ? 1 : 0 );

my ( $in, $out ) = $Frm->inout( "_rimg" );

$Mon{'ndfpack_mon'}->obeyw( "ndfcopy", "in=$in out=$out" );

orac_print "$in to $out:\n Tagged as representative image.\n";

my $keyword = "PRODUCT";
my $value = "rimg";
my $params = "ndf=$out keyword=$keyword value=$value position=! edit=update comment='\$C'";
$Mon{'ndfpack_mon'}->obeyw( "fitsmod", "$params" );

if( defined( $Display ) ) {
  $Frm->file( $out );
  $Display->display_data( $Frm );
  $Frm->file( $in );
}

if( $update ) {
  $Frm->product( "rimg" );
  $Frm->file( $out );
}

