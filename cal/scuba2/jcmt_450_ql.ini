# This is the configuration for the SCUBA-2 Quick-look pipeline
# Chart1:  Number of bolometers
# Chart2:  Sky noise levels for each subarray
# Chart3:  Sky effective NEP
# Chart4:  RMS difference between actual and demand azimuth & elevation

[globals]
nx=2
ny=2
output_class=AST::PGPLOT

# chart1: the number of good bolometers for each subarray
[chart1]
autoscale=0
yscale=700,1280
ylabel=Nbol
tunits=radians
yunits=#
growt=1
plottitle=Number of bolometers
data=nbol_s4a,nbol_s4b,nbol_s4c,nbol_s4d
linecol=white,magenta,blue,yellow
window=0.1
symbol=x,x,x,x

[nbol_s4a]
monitor_class=ORACIndex
indexfile=index.noise
column=NGOOD
filter_SUBARRAY=s4a

[nbol_s4b]
monitor_class=ORACIndex
indexfile=index.noise
column=NGOOD
filter_SUBARRAY=s4b

[nbol_s4c]
monitor_class=ORACIndex
indexfile=index.noise
column=NGOOD
filter_SUBARRAY=s4c

[nbol_s4d]
monitor_class=ORACIndex
indexfile=index.noise
column=NGOOD
filter_SUBARRAY=s4d

# chart2: the sky noise recorded by each subarray
[chart2]
autoscale=1
ylabel=Sky noise
tunits=radians
yunits=pA Hz\u0.5\d
growt=1
plottitle=On-sky bolometer noise
data=noise_s4a,noise_s4b,noise_s4c,noise_s4d
linecol=white,magenta,blue,yellow
window=0.1
symbol=dot,dot,dot,dot

[noise_s4a]
monitor_class=ORACIndex
indexfile=index.noise
column=MEAN
filter_SHUTTER=1.0
filter_SUBARRAY=s4a

[noise_s4b]
monitor_class=ORACIndex
indexfile=index.noise
column=MEAN
filter_SHUTTER=1.0
filter_SUBARRAY=s4b

[noise_s4c]
monitor_class=ORACIndex
indexfile=index.noise
column=MEAN
filter_SHUTTER=1.0
filter_SUBARRAY=s4c

[noise_s4d]
monitor_class=ORACIndex
indexfile=index.noise
column=MEAN
filter_SHUTTER=1.0
filter_SUBARRAY=s4d

# chart3: the sky effective NEP for each subarray
[chart3]
autoscale=1
ylabel=NEP\deff\u
tunits=radians
yunits=W s\u0.5\d
growt=1
plottitle=Effective NEP
data=effnep_s4a,effnep_s4b,effnep_s4c,effnep_s4d
linecol=white,magenta,blue,yellow
window=0.1
symbol=dot,dot,dot,dot

[effnep_s4a]
monitor_class=ORACIndex
indexfile=index.noise
column=EFFNEP
filter_SHUTTER=1.0
filter_SUBARRAY=s4a

[effnep_s4b]
monitor_class=ORACIndex
indexfile=index.noise
column=EFFNEP
filter_SHUTTER=1.0
filter_SUBARRAY=s4b

[effnep_s4c]
monitor_class=ORACIndex
indexfile=index.noise
column=EFFNEP
filter_SHUTTER=1.0
filter_SUBARRAY=s4c

[effnep_s4d]
monitor_class=ORACIndex
indexfile=index.noise
column=EFFNEP
filter_SHUTTER=1.0
filter_SUBARRAY=s4d

# chart4: RMS difference between actual and demand azimuth & elevation
[chart4]
autoscale=1
ylabel=RMS
tunits=radians
yunits=arcsec
growt=1
plottitle=RMS (actual-demand) az/el
data=dazrms,delrms
linecol=yellow,cyan
window=0.1
symbol=dot,dot

[dazrms]
monitor_class=Simple
filename=log.posdiff
tformat=ORACTIME
tcol=1
ycol=12

[delrms]
monitor_class=Simple
filename=log.posdiff
tformat=ORACTIME
tcol=1
ycol=13
